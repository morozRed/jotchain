<%
  modal_id ||= "modal"
  modal_title ||= "Modal"
  modal_size ||= "max-w-2xl" # default size, can be overridden
%>

<div id="<%= modal_id %>"
     data-controller="modal"
     data-modal-target="container"
     class="hidden fixed inset-0 z-50 overflow-y-auto"
     data-action="click->modal#close">

  <!-- Backdrop -->
  <div data-modal-target="backdrop"
       class="fixed inset-0 bg-slate-950/80 backdrop-blur-sm opacity-0 transition-opacity duration-300 ease-out"></div>

  <!-- Modal Container -->
  <div class="flex min-h-full items-center justify-center p-4">
    <div data-modal-target="dialog"
         class="<%= modal_size %> relative w-full transform rounded-2xl border border-white/10 bg-slate-900 shadow-2xl shadow-slate-950/50 opacity-0 scale-95 transition-all duration-300 ease-out"
         data-action="click->modal#close:stop">

      <!-- Header -->
      <div class="flex items-center justify-between border-b border-white/10 px-6 py-5">
        <h2 class="text-xl font-semibold text-white"><%= modal_title %></h2>
        <button type="button"
                data-modal-close
                data-action="click->modal#close"
                class="rounded-lg p-1 text-slate-400 transition-colors hover:bg-white/5 hover:text-white">
          <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>

      <!-- Content -->
      <div class="px-6 py-6">
        <%= yield %>
      </div>
    </div>
  </div>
</div>
